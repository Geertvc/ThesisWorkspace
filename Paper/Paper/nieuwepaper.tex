%%% template.annotated.tex
%%%
%%% This LaTeX source document can be used as the basis for your technical
%%% paper or abstract. Unlike ``template.tex,'' this version of the source
%%% document contains documentation of each of the commands and definitions
%%% that should be used in the preparation of your formatted document.
%%% 
%%% The parameter given to the ``acmsiggraph'' LaTeX class in the 
%%% ``\documentclass'' command controls several features of the formatted 
%%% output: the presence or absence of hyperlinked icons just prior to the 
%%% first section of the paper, the amount of space left clear for the ACM
%%% copyright notice, the presence or absence of line numbers and submission
%%% ID, and the presence or absence of an appropriate ``preprint'' notice.
%%% 
%%% If you are preparing a paper for presentation in the Technical Papers
%%% program at one of our two annual flagship conferences, held in North 
%%% America (SIGGRAPH) or Asia (SIGGRAPH Asia), you should use ``annual''
%%% as the parameter.
%%%
%%% If you are preparing a paper for presentation at one of our sponsored
%%% events, including SIGGRAPH and SIGGRAPH Asia, but not in those events' 
%%% Technical Papers program, you should use ``sponsored'' as the parameter.
%%% (Technical Briefs and Game Papers presented at our annual flagship 
%%% events fall into this category, as do papers accepted to other SIGGRAPH-
%%% sponsored events, such as I3D or ETRA or VRCAI.)
%%%
%%% If you are preparing a version of your content for review, you should
%%% use ``review'' as the parameter. Line numbers will be added to your 
%%% paper, and the submission ID value will be printed across the top of 
%%% each page of your paper. (Use the submission ID as the parameter to the
%%% ``TOGonlineID'' command, below.)
%%%
%%% If you are preparing an abstract, typically one to four pages in 
%%% length, you should use ``abstract'' as the parameter. No space will 
%%% be left clear for the ACM copyright notice, as copyright is not 
%%% transferred for abstracts. A small permission notice will be added
%%% to your content during production in the footer of the first page.
%%%
%%% If you are preparing a preprint of your content, you should use
%%% ``preprint'' as the parameter. This is primarily for annual conference
%%% papers; a header reading ``To appear in ACM TOG X(Y)'' will appear on
%%% each page of the formatted output (where X is the volume and Y is the 
%%% number of the issue in which it will be published).

\documentclass[review]{acmsiggraph}

\usepackage{algpseudocode}
\usepackage{algorithm}
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}




\newcommand{\npar}{\par \vspace{2.3ex plus 0.3ex minus 0.3ex} \noindent}
\newcommand{\spar}{\par \noindent}
\newcommand{\todo}[1]{\textcolor{red}{\(\langle\) \textbf{TODO} #1 \(\rangle\) }}

%%% Definitions and commands that begin with ``\TOG'' are meant to be used
%%% in the preparation of papers to be presented in the Technical Papers
%%% program at one of our annual flagship events - SIGGRAPH and SIGGRAPH 
%%% Asia. You can safely ignore these definitions and commands if your 
%%% content is to be presented in some other venue.

%%% ``\TOGonlineid'' should be filled with the online ID value you received
%%% when you submitted your technical paper. It will be printed out if you 
%%% prepare a ``review'' version of your paper.

\TOGonlineid{--}

%%% Should your technical paper be accepted, you will be given three pieces
%%% of information: the volume and number of the issue of the ACM Transactions
%%% on Graphics journal in which your paper will be published, and the 
%%% ``article DOI'' value, which is unique to your paper and provides the 
%%% link to your paper's page in the ACM Digital Library. Fill in the 
%%% ``\TOGvolume,'' ``\TOGnumber,'' and ``\TOGarticleDOI'' definitions with
%%% the three pieces of information you receive.

\TOGvolume{0}
\TOGnumber{0}
\TOGarticleDOI{1111111.2222222}

%%% By default, your technical paper will contain hyperlinked icons which 
%%% point to your paper's article page in the ACM Digital Library, and to 
%%% the paper itself in the ACM Digital Library. You may wish to add one 
%%% or more links to your own resources. If any of the following four 
%%% definitions have URLs in them, an appropriate hyperlinked icon will be
%%% added to the list. 

\TOGprojectURL{}
\TOGvideoURL{}
\TOGdataURL{}
\TOGcodeURL{}

%%% Define the title of your paper here. Use capital letters as appropriate.
%%% Setting the entire title in upper-case letters is not correct, nor is 
%%% capitalizing only the first letter of the title.

\title{The problem of Monte Carlo rendering noise}

%%% Define the author list in the ``\author'' command. The ``\thanks'' 
%%% field can be used to define an e-mail address for the author.
%%% The ``\pdfauthor'' field should contain a comma-separated list of the
%%% authors of the paper, and is used, along with the title and keyword
%%% data, for PDF metadata. (To see this metadata, open the PDF in Adobe 
%%% Reader and select ``File > Properties > Description.''

\author{Robert A. Smith\thanks{e-mail:rsmith@gmail.com}\\Smith Research}
\pdfauthor{Robert A. Smith}

%%% User-defined keywords.

\keywords{monte carlo rendering, filter, distribution effects, global illumination}

%%% End of the document preamble, start of the document.

\begin{document}

%%% A ``teaser'' image appears below the title and affiliation and above
%%% the two-column body of the paper. This is optional, but if you wish
%%% to include such an image, the commented-out code, below, can be used
%%% as an example. Please note that the inclusion of a ``teaser'' image
%%% may move the copyright space to the bottom of the right-hand column
%%% on the first page of your formatted output. This is acceptable.

%% \teaser{
%%   \includegraphics[height=1.5in]{images/sampleteaser}
%%   \caption{Spring Training 2009, Peoria, AZ.}
%% }

%%% The ``\maketitle'' command uses the author and title information 
%%% defined above, and prepares the formatted title.

\maketitle

%%% The ``abstract'' environment should contain the abstract for your
%%% content -- one to several paragraphs which describe the work.

\begin{abstract}

When rendering using Monte Carlo methods, either a large amount of samples are necessary or noise will be present in the image.
A lot of methods have already tried to tackle this problem including adaptive sampling, reconstruction techniques and advanced image filtering techniques.
In this paper I will recapitulate the work I have done for my thesis so far. 
The focus will be on the RPF algorithm called random parameter filtering (RPF) as proposed in ~\cite{RPF11}.
As this algorithm is based on a cross bilateral filter, this concept will be explained and discussed as well.
Other methods that handle the noise caused by Monte Carlo rendering at low sampling rates were investigated as well and discussed as Related Work.

%Citations can be done this way~\cite{Jobs95} or this more concise 
%way~\shortcite{Jobs95}, depending upon the application.

%Ut wisi enim ad minim veniam, quis nostrud exerci tation ullamcorper
%suscipit lobortis nisl ut aliquip ex ea commodo consequat. Duis autem
%vel eum iriure dolor in hendrerit~\cite{Pellacini:2005:LAH}
%in vulputate velit esse molestie~\cite{notes2002} 
%consequat, vel illum dolore eu feugiat nulla facilisis at vero eros et
%accumsan et iusto odio dignissim qui blandit praesent luptatum zzril
%delenit augue duis dolore te feugait nulla facilisi.~\cite{Park:2006:DSI}


\end{abstract}

%%% The ``CRCatlist'' environment defines one or more ACM ``Computing Review''
%%% (or ``CR'') categories, used for indexing your work. For more information
%%% on CR categories, please see http://www.acm.org/class/1998.

\begin{CRcatlist}
  \CRcat{I.3.7}{Computer Graphics}{Three-Dimensional Graphics and Realism}{Raytracing};
\end{CRcatlist}

%%% The ``\keywordlist'' prints out the user-defined keywords.

\keywordlist

%%% If you are preparing a paper to be presented in the Technical Papers
%%% program at one of our annual flagship events (and, therefore, using 
%%% the ``annual'' parameter to the ``\documentclass'' command), the 
%%% ``\TOGlinkslist'' command prints out the list of hyperlinked icons.
%%% If you are using any other parameter to the ``\documentclass'' command
%%% this command does absolutely nothing.

\TOGlinkslist

%%% The ``\copyrightspace'' command will leave clear an amount of space
%%% at the bottom of the left-hand column on the first page of your paper,
%%% according to the parameter used in the ``\documentclass'' command.

\copyrightspace

%%% The first section of your paper. 

\section{Introduction}
\input{introduction.tex}

\section{Related Work}
\input{relatedWork.tex}

\section{Bilateral Filter}
\input{bilateralFilter.tex}

\section{Random Parameter Filtering algorithm}
\input{RPF.tex}

\begin{figure*}
        \centering
        \begin{subfigure}[b]{0.3\textwidth}
                \centering
                \includegraphics[width=\textwidth]{images/lena512.jpg}
                \caption{The famous picture of a woman called called Lena.}
                \label{fig:lena}
        \end{subfigure}%
        ~ %add desired spacing between images, e. g. ~, \quad, \qquad etc.
          %(or a blank line to force the subfigure onto a new line)
        \begin{subfigure}[b]{0.3\textwidth}
                \centering
                \includegraphics[width=\textwidth]{images/outD=3R=inf.jpg}
                \caption{Lena filtered using a Gaussian filter}
                \label{fig:lenaGaussian}
        \end{subfigure}
        ~ %add desired spacing between images, e. g. ~, \quad, \qquad etc.
          %(or a blank line to force the subfigure onto a new line)
        \begin{subfigure}[b]{0.3\textwidth}
                \centering
                \includegraphics[width=\textwidth]{images/outD=3R=50.jpg}
                \caption{Lena filtered using the bilateral filter}
                \label{fig:lenaBilateral}
        \end{subfigure}
        \caption{Pictures of Lena to compare a Gaussian and a bilateral filter, notice how the bilateral filtered image preserves the edges in the image}
        \label{fig:lenas}
\end{figure*}

\section{Results}
I implemented a bilateral filter algorithm in C++ at the start to get to know the concept and its details.
In figure~\ref{fig:lenas} an image that is unfiltered, one that is filtered with a Gaussian filter and another that is filtered with a bilateral filter, both created using my implementation, can be compared.

Afterwards I implemented the RPF algorithm in C++ also using the PBRT2 renderer from ~\cite{pharr2010physically}.
The algorithm is not implemented in its completeness as it is presented in ~\cite{RPFTechReport}.
The following items are different or not implemented in my implementation:

\begin{itemize}
 \item The algorithm does not handle sample spikes in the high dynamic range differently although in ~\cite{RPFTechReport} it is described how to do it.
 \item Instead of taking into account all the described scene features, the implementation only uses the normal and world-space coordinates of the first intersection of the ray.
\end{itemize}

\section{Discussion}
The reason this paper does not contain resulting images filtered with the RPF algorithm is that the current implementation is not working correctly yet due to an unknown reason.
Another problem with the current implementation is that the memory management seems incorrect as the algorithm uses more memory than it should.

These problems will be taken care of during the rest of my thesis as well as an attempt to improve on the RPF algorithm or try to get it to filter out noise caused by probabilistic visibility.
A comparison between this implementation and the full RPF algorithm or other algorithms is thus impossible as this implementation is not working correctly yet.

\section{Conclusion}
Different algorithms to solve the problem of noise in Monte Carlo rendering have been discussed in this paper.
Random Parameter Filtering is different from most other algorithms that tackle this problem in the fact that it is a very general algorithm.
The statistical dependency which is computed using the theory of Mutual information makes the algorithm useful for any kind of sample feature that can be found.
As all the different algorithms show, this is a popular research topic in Computer Graphics at the moment, which makes us hope for even more genious algorithms that solve this problem.


%%% Please use the ``acmsiggraph'' BibTeX style to properly format your
%%% bibliography.

\bibliographystyle{acmsiggraph}
\bibliography{nieuwepaper}
\end{document}